#!/usr/bin/perl
use v5.10;
use strict;
use warnings;
use English;

$ENV{'DISPLAY'} //= ':0.0';

( my $check_string = qx| xsel -o | ) =~ s'^\s+|\s+$''sg;

exit(0) if not length $check_string;

my $text_file = '/tmp/.osd_harmony.' . $PID;
my @aosd_opts
    = ( qw| -p 1 -e 1 -o 7777 -y 44 -x 0 -n WhiteRabbit -i |, $text_file );

my $msg;
if (system( qw| harmony -q |, $check_string ) == 0
    and ( $check_string !~ m|^\d+(\.\d+)?$|
        or system( qw| harmony -q -n |, $check_string ) == 0 )
) {
    $msg = "'$check_string'    TRUE  IS  =)\n";
    push( @aosd_opts, qw| -u 2777 -R #230769 | );
} else {
    $msg = "'$check_string'   is  FALSE `:|\n";
    push( @aosd_opts, qw| -u 1389 -R #690723 | );
}

open( FILE, '>', $text_file ) or die "[ $text_file ] $!\n";
print FILE $msg;
close FILE;

system( '/usr/bin/aosd_cat', @aosd_opts );

#.............................................................................
#NPIWP7NWIDT3IH74V264TGMHU3X4MZR4FY3V7RJNMM6CY2DCFUT7C4OE5NHIGTPS2AI5KAKBCA6WO
#::: WK4NMQQPSLFBZMI5XASBFTCDJSVTORONE2PPIVWFPV3VJYA5QO7 :::: NAILARA AMOS :::
# :: L6QBCG6IZB4DFHAKSHMTCBJ5HDHT65BOSGMGBNPLPP7S4LUH7KAA :: CODE SIGNATURE ::
# ::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::
