#!/usr/bin/perl

my @edit_files;

@ARGV = split( /\s+/, qx(xsel -o) ) if !@ARGV;

my @check_paths = ( qw(
        /data/projects/nailara/src
        /data/projects/nailara/cfg
        /data/projects/nailara/cfg/agents
        /data/projects/nailara/bin
        /data/projects/nailara
        ), $ENV{'HOME'} // '/home/' . $ENV{'USER'}, '/tmp'
);

foreach my $filename (@ARGV) {
    if ( $filename =~ /^\// or -f $filename ) {
        push( @edit_files, $filename );
    } else {
        foreach my $path (@check_paths) {
            if ( -f "$path/$filename" ) {
                push( @edit_files, "$path/$filename" );
                last;
            }
        }
    }
}

system( 'scite', @edit_files );
