#!/usr/bin/perl
use v5.24;
use strict;
use English;
use warnings;

###          ###
##  bit-test  ##
###          ###

##[ LOCAL PM LIB PATH ]#######################################################

BEGIN {
    use English;
    use File::Spec;
    use Cwd qw| abs_path |;
    use FindBin qw| $RealBin |;
    our $up_dir = File::Spec->updir;
    our $Bin    = $RealBin;
    my $data_pm_path   = qw| data/lib-path/pm |;
    my $root_path      = abs_path( r2_abs( c_dir( $Bin, $up_dir ) ) );
    my $local_lib_path = abs_path( c_dir( $root_path, $data_pm_path ) );
    $local_lib_path //= $data_pm_path;
    die "\n:\n:: not found : $local_lib_path\n:\n" if !-d $local_lib_path;
    unshift( @INC, $local_lib_path )               if -d $local_lib_path;
    sub c_dir  { File::Spec->catdir(@ARG) }
    sub r2_abs { File::Spec->rel2abs(@ARG) }
}

##[ AMOS MODULE ]#############################################################

use AMOS;    ## colors ##
use AMOS::Assert::Truth;

##[ COMMAND LINE INPUT ]######################################################

my $iteration = 0;

our %C = (    ##  color table  ##
    qw|  T  | => "\e[38;2;6;71;195m",
    qw|  b  | => "\e[48;2;9;5;42m",
    qw|  0  | => "\e[38;2;68;39;172m",
    qw|  B  | => "\e[1m",
    qw|  R  | => "\e[0m",
);

$iteration = 0;

say '';

my @results;

while ( ++$iteration <= 7 * 7 ) {
    my $bits = sprintf( qw|%06b|, $iteration );
    say $C{'b'} . $C{'0'} . join ' ', qq|:|, $bits,
        qq|:|, decoded_bits($bits), $C{'R'};
}

say '';

exit(0000);

##  description or result : addressing a 5 x 7 graphical character matrix ##
##                        + 60 and 61 for clear or set switch,
##                        describing what the next sequence will alter ..,

sub decoded_bits {
    my $result = 0;
    my @bits   = split '', join '', @ARG;

    $result += 40 if $bits[0] == 1;
    $result += 20 if $bits[1] == 1;
    $result += 10 if $bits[2] == 1;

    $result += 4 if $bits[3] == 1;
    $result += 2 if $bits[4] == 1;
    $result += 1 if $bits[5] == 1;

    push @results, $result;
    return sprintf qw| %02d |, $result;
}

#.............................................................................
#6KM3JTXPJ5GRYZDUJWPBZCD2G27XVNGA4WTFYBZFWERVRZYCZAQNPFE6TSJ73URTR5EG45ZJRI3RM
#::: LD3RZ55PGVTLN7IBK42TV4PUEJLSTGS6EBH377IHT7IPGEBS5RZ :::: NAILARA AMOS :::
# :: 2DAS27GLEINS5VFACBNZ2AM2AB75CJBZSN55EWQAWP5NA6LZKGCY :: CODE SIGNATURE ::
# ::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::
