## >:] ##

# name  = debug.cmd.dump
# param = [key_pattern]
# descr = internal program state from 'data'

my $keyword = $call->{'args'} // '';

<base.dump_data.encode_perl_refs> = 0 if $keyword =~ s| ?:not\-encode:$||;

my ( $regex_compiled_result, $regex_err )    ##  validate regex syntax  ##
    = <[base.eval.comp_regex]>->($keyword);

if ( not defined $regex_compiled_result ) {
    return {
        'mode' => qw| false |,
        'data' => sprintf( '%s in regex [ invalid pattern ]', $regex_err )
    };
}

$reply = {
    'mode' => qw| size |,
    'data' => <[base.dump_data]>->( undef, undef, $keyword )
};

##  reset to default setting  ##
<base.dump_data.encode_perl_refs> = 5;    ## true ##

#,,.,,...,,..,...,,..,..,,...,...,,,.,,..,.,,,..,,...,...,,,.,,,.,.,.,,.,,.,.,
#2DM6IVP6C24EWYI7CNLTPOVDKIFFIA6OHIUGE45ZRPOFRHPA2LEHV6PX55GHFMLXVOZW3K24OO562
#\\\|N46UXIZWVQXM3T2GHXK2F4JSB7HPKUL32AFABBCY7C4HDXSONFL \ / AMOS7 \ YOURUM ::
#\[7]IVQB7BNFXQJ6PJZBRWRBLSWRCDAIRFIBPO2WLSNGHL4N7VVKEAAA 7  DATA SIGNATURE ::
#:::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::
