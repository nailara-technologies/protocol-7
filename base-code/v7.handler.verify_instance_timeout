# >:]

# name = v7.handler.verify_instance_timeout

my $params      = shift->w->data;
my $instance_id = $params->{'instance_id'};
if ( not exists <v7.zenka.instance>->{$instance_id} ) {
    <[base.logs]>->(
        2, '<verify_instance_timeout> gone instance %d', $instance_id
    );
    return;
}
my $instance = <v7.zenka.instance>->{$instance_id};

<[base.logs]>->(
    0,            '<< instance %d [ %s ] verification timeout >>',
    $instance_id, $instance->{'zenka_name'}
);

<[zenka.change_status]>->( $instance_id, qw| error | );

delete $instance->{'timer'}->{'verify_instance'};
delete $instance->{'timer'} if not keys %{ $instance->{'timer'} };

#.............................................................................
#PO47GCHGEYUVV7ZHLXU6Y5LHGK7UGIUKRFMX27HWOCKE6YN2ZA4LR7YZKBXD3FQXPQFH2GKVD3ZM2
#::: L6GRV2OF4XMKBBOBNL64HMV3CSZM4JQ3YWVIX64NNJ7XUGHXVZH :::: NAILARA AMOS :::
# :: P3M3KYPDU2SIFNFXB7CY6JK5NYCCETVZFRTZ5DTTPWB6QD2LLGDQ :: CODE SIGNATURE ::
# ::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::
