## >:] ##

# name = mpv.update_resc_timestamp

my $rescaled_path = shift;
my $extension     = <mpv.rescaled_extension>;

( my $timestamp_path = $rescaled_path ) =~ s|\.$extension$|.last_seen|;

if ( !-f $rescaled_path ) {    # reencoded video file path
    <[base.log]>->(
        0, "create_timestamp: rescaled path '$rescaled_path' does not exist!"
    );
    unlink($timestamp_path) if -f $timestamp_path;
    return;
} else {
    <[file.put]>->( $timestamp_path, time() . "\n" );
}

#,,..,,.,,,..,,,.,..,,.,,,.,.,.,.,,,.,...,,..,..,,...,...,,,,,,..,.,,,...,.,.,
#QSLDWZOJGHW3GYQSZ5NH4GT4OQK46VPRHVYJD34ITM2F2YIF7UMWQWRHSJXZJZLBGWJO5UDSE3E5Y
#\\\|TDECLE4ST2PJMFJONCNHONMFYJ2L43F2YDIXHV6KFPVOFPIU5S2 \ / AMOS7 \ YOURUM ::
#\[7]KDE76UCG57NEC7D7HLVCZ6VUDA7KR336WL7BWLND3GBPOGP4S4CI 7  DATA SIGNATURE ::
#:::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::
