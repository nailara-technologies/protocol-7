# >:]

# name  = base.process-into-background

<[base.log]>->( 1, 'process going into background..,' );

chdir '/' or die "cannot chdir to / : \l$OS_ERROR";
open STDIN, '/dev/null'
    or die "cannot open /dev/null for reading : \l$OS_ERROR";
open STDOUT, '>/dev/null'
    or die "cannot open /dev/null for writing : \l$OS_ERROR";
defined( my $pid = fork ) or die "cannot fork : \l$OS_ERROR";
exit if $pid;
POSIX::setsid() or die "setsid() not successful : \l$OS_ERROR";
open STDERR, '>&STDOUT' or die "cannot dup stdout : \l$OS_ERROR";

IO::AIO::reinit();   # <-- makes base.s_read() and base.s_write() work again..,

# if($pid=fork){exit($pid)}
# else
# {
#     close(STDIN);
#    close(STDOUT);
#    close(STDERR);
#
# }

#.............................................................................
#J23KBJX2RDLCD7QOT7CJBGLVHBY4KJBYJRTUDRMQI52Z72UO46JK3XNVBK75CI5F2KAPXXEQB2PMI
#::: M4O676C45I3DHWKKBYGLOLNJYHGV4ZXBLZX56CIR4AVMGSFH2HH :::: NAILARA AMOS :::
# :: XXCJC74I6PTNNBI42OMDB5ALLIOH6NQ4ANOK3WU4SJQQN7X4WIDQ :: CODE SIGNATURE ::
# ::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::
