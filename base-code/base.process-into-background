# >:]

# name  = base.process-into-background

<[base.log]>->( 1, 'process going into background..,' );

chdir '/' or die "cannot chdir to / : \l$OS_ERROR";
open STDIN, '/dev/null'
    or die "cannot open /dev/null for reading : \l$OS_ERROR";
open STDOUT, '>/dev/null'
    or die "cannot open /dev/null for writing : \l$OS_ERROR";
defined( my $pid = fork ) or die "cannot fork : \l$OS_ERROR";
exit if $pid;
POSIX::setsid() or die "setsid() not successful : \l$OS_ERROR";
open STDERR, '>&STDOUT' or die "cannot dup stdout : \l$OS_ERROR";

IO::AIO::reinit();  # <-- makes base.s_read() and base.s_write() work again..,

# if($pid=fork){exit($pid)}
# else
# {
#     close(STDIN);
#    close(STDOUT);
#    close(STDERR);
#
# }

#.............................................................................
#3PEB6SEARPTWQZO6G5VBL7ZPCZEOXLLZGSANFUSU6ZOX4H3WOHNQMXBLDTWYPAURUNFUEXZQ7IAI6
#::: YNKBQ7WOV5DTR24WBQEYHY2UOJ5KFWIO4C3O7XOJ5I3WOGOVEYA :::: NAILARA AMOS :::
# :: 4POKXJA5YQZDWJHOH6AHIPWLKNTW5C6DF3T34JYRVIDLCKZCUWAY :: CODE SIGNATURE ::
# ::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::
