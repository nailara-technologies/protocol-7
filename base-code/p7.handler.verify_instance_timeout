# >:]

# name = p7.handler.verify_instance_timeout

my $params      = shift->w->data;
my $instance_id = $params->{'instance_id'};
if ( not exists <p7.zenka.instance>->{$instance_id} ) {
    <[base.log]>->(
        2, "<verify_instance_timeout> gone instance $instance_id"
    );
    return;
}
my $instance   = <p7.zenka.instance>->{$instance_id};
my $zenka_name = $instance->{'zenka_name'};

<[base.log]>->(
    0, "<< instance $instance_id ('$zenka_name') verification timeout >>"
);

<[zenka.change_status]>->( $instance_id, 'error' );

delete $instance->{'timer'}->{'verify_instance'};
delete $instance->{'timer'} if !keys %{ $instance->{'timer'} };

#.............................................................................
#L26YKBEHOUIASPWA2TTJT2Y3WCJEPW2XUNPL6FKX2UI6MD4HC44SVQ6MV6B7TUWRBXPIKQSRPEEBI
#::: XKKAJSD2YIGBMY7IFWGK6PTGMMKBYC6HBQVVKWOQOFPTUNVJ5NA :::: NAILARA AMOS :::
# :: 4YB2KAPDBK4I2TAS7KWUWLUYXHLPENUJJK27PGB2TYADWCCM3CAA :: CODE SIGNATURE ::
# ::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::
