## [:< ##

# name = mpv.update_resc_timestamp

my $rescaled_path = shift;
my $extension     = <mpv.rescaled_extension>;

( my $timestamp_path = $rescaled_path ) =~ s|\.$extension$|.last_seen|;

if ( !-f $rescaled_path ) {    # reencoded video file path
    <[base.log]>->(
        0, "create_timestamp: rescaled path '$rescaled_path' does not exist!"
    );
    unlink($timestamp_path) if -f $timestamp_path;
    return;
} else {
    <[file.put]>->( $timestamp_path, time() . "\n" );
}

#,,.,,,,.,,,.,,,,,.,,,.,,,.,.,,.,,,.,,...,...,..,,...,..,,,..,,..,,,,,,..,,,,,
#F5LACBZGDZKPFTXQOR4COKXAGD7IN72XORGIES2QSF36STHEKO7IBFQ7XPETLIFAL3B2X6Z2URUP4
#\\\|KI6VLDCOEGI2V5ZUBSOUOINY245ABSQDDCTCRLIOPLJYHM5IUIU \ / AMOS7 \ YOURUM ::
#\[7]AE6TQXQLP6O5CYOAKYSM6SMR6MAAIFTVEQUN5FDMYOWX4TLH3SCI 7  DATA SIGNATURE ::
#:::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::
