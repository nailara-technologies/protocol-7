# >:]

# name  = base.debug.cmd.dump_state
# param = [key_pattern]
# descr = dumps internal program state (debugging)

my $keyword = $$call{'args'} || '';
if ( not eval {qr/$keyword/} ) {
    ( my $regex_err = lc($@) ) =~ s/ in regex.+\n$//;
    return {
        'mode' => 'nack',
        'data' => "$regex_err in regex (invalid pattern)"
    };
}

$reply = {
    'mode' => 'raw',
    'data' => $code{'base.dump_data'}->( undef, undef, $$call{'args'} )
};

