# >:]

# name  = base.dependency.add
# descr = add new object id to the dependency chain
# todo  = XXX: filter out duplicates...

my $object_id  = shift || '';
my $depends_on = shift || '';

die "base.dependency.add: expecting two valid dependency-object ids"
    if not exists <dependency.object>->{$object_id}
    or not exists <dependency.object>->{$depends_on};

<dependency.chain>->{$object_id} //= [];

push( @{ <dependency.chain>->{$object_id} }, $depends_on );
