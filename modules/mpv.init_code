# >:]

# name = mpv.init_code

use JSON;
use IPC::Open3;

chomp( <mpv.bin_path> = qx(which mpv) );

die "[!] mpv binary not found, aborting startup..."
    if not defined <mpv.bin_path> or !length(<mpv.bin_path>);

<mpv.reply_ids>         //= [];
<mpv.file_map.rescaled> //= {};

<[event.add_signal]>
    ->( { 'signal' => 'CHLD', 'handler' => 'base.handler.sig_chld.shutdown' } );

0;
