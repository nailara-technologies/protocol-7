# >:]

# name = mpv.init_code

use JSON::XS;
use IPC::Open3;

<mpv.json.parser> = JSON::XS->new->pretty(0);

<mpv.bin_path> //= '/usr/bin/mpv';
chomp( <mpv.bin_path> = qx(which mpv) ) if !-f <mpv.bin_path>;

die "[!] mpv binary not found, aborting startup..."
    if not defined <mpv.bin_path> or !length(<mpv.bin_path>);

<mpv.fade_in>           //= 0;
<mpv.reply_ids>         //= [];
<mpv.file_map.rescaled> //= {};
<mpv.fade_start_geom>   //= '1x1--0--0';

0;
