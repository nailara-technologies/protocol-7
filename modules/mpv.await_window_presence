## [:< ##

# name = mpv.await_window_presence

<x11.window_timeout> //= 7;

my $wait_title_str = <mpv.zenka_title>;
$wait_title_str .= '[' . <system.zenka.subname> . ']'
    if exists <system.zenka.subname> and length(<system.zenka.subname>);
$wait_title_str =~ s|([\[\]\.])|\\$1|g;
if ( not defined <[base.X-11.wait_for_window]>->($wait_title_str) ) {
    <[base.log]>->( 0, "<<<!>>> mpv window creation timed out <<<!>>>" );
    <[mpv.abort_startup]>;    # <-- exiting
} else {
    <[base.X-11.assign_window]>->(<x11.id>);
    if ( <system.zenka.mode> eq 'universal-child' ) {
        <[base.protocol-7.command.send.local]>->(
            {   'command'   => "cube.X-11.hide_window",
                'call_args' => { 'args' => <x11.id> }
            }
        );
    }
}

#,,..,,,,,,..,,.,,,.,,,..,,,,,...,...,..,,.,,,..,,...,...,,..,.,,,..,,,.,,.,,,
#RL7D3S35KKPGIFQBM2G2AEQH46DOWIE3JR4VSR6BIDQEPAHV3GEDMQITMT22T5JBTBR74YZHWPUDI
#\\\|HNZI25Q7E3U45PZG3B4XC24GKXKRQITRAARRZQC6I3XHY3ZEWBZ \ / AMOS7 \ YOURUM ::
#\[7]AQMTHVUFDDWSBZI2YGRWHIM6IA57IA4JLBZSB5VA4FBAZCJT3IDA 7  DATA SIGNATURE ::
#:::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::
