# >:]

# name  = root.agent.get_id
# descr = return agent id for given name from setup
# note  = doesn't deal with multiple agent setups for same name yet!

my $subname;
my $agent_name = shift;

$subname = $1 if $agent_name =~ s|\[([^\]]+])$||;

die 'expected agent name' if not defined $agent_name or !length($agent_name);

foreach my $id ( keys %{<root.agent.setup>} ) {
    return $id if <root.agent.setup>->{$id}->{'name'} eq $agent_name;
}

<[base.log]>->( 0, "root.agent.get_id: no agent '$agent_name' found in setup" );
return undef;    # no such agent
