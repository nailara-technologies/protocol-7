## [:< ##

# name  = discover.cmd.reset-broadcast-timer
# descr = reset and restart announce broadcast timer

<discover.announce_interval.current> = 0.19;
<discover.announce_interval.maximum> = sprintf qw| %.2f |, 40 + rand(2);
<discover.announce_interval.ifactor> //= 1.24;

<[base.log]>->( 1, "resetting 'announce host' broadcast interval ..," );

if (defined <discover.timer.announce_host>    ##  resetting timer  ##
    and <discover.timer.announce_host>->is_active
) {
    <discover.timer.announce_host>->cancel;
}
<discover.timer.announce_host> = <[event.add_timer]>->(
    {   'after'   => 0.11,    ##  restarting broadcast timer  ##
        'handler' => qw| discover.handler.anounce_host_addr |
    }
);

return {
    'mode' => qw| TRUE |,
    'data' => 'restarting announce broadcast interval'
    }

#,,..,.,.,...,,..,,,.,,.,,,,,,,.,,,.,,,,,,.,,,..,,...,...,,.,,..,,,..,..,,.,.,
#UWEVKQORWGFXVZYB2NSFXIJFDG7N6LKKGMF74ETQZWLMYA7S62ASQFVI5YHBXXPZ32QXSAUOZNCA6
#\\\|4ZZOGV5KCHMGDGZEHKCGAAW6M6FDJDR3AU6KM5G4C7FLRAVOH3X \ / AMOS7 \ YOURUM ::
#\[7]VN57E5LUUKVSBJHTYSWTU7DSO65RBKRUV3JOGEKS7BJCTPNKEGDA 7  DATA SIGNATURE ::
#:::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::
