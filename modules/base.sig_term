# >:]

# name       = base.sig_term

( my $pname = $0 ) =~ s/ +$//;
$0 = "$pname :. shutdown in progress... please wait! ";
<[base.log]>->( 0, 'SIGTERM received. shutting down...' );

# <[net.send_all]>->("close SIGTERM"); # see base.sig_int
# $SIG{'ALRM'} = sub { <[base.log]>->( 1, 'done.'); exit(0); };
# alarm( $data{'sigterm'}{'timeout'} || 1 );

<[root.shutdown]> if <system.agent.name> eq 'root';

<[base.log]>->( 1, ': done.' );
exit(0);
