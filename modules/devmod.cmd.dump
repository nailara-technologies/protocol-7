## [:< ##

# name  = devmod.cmd.dump
# param = [key_pattern]
# descr = internal program state from 'data'

my $keyword = $call->{'args'} // '';

<base.dump_data.encode_perl_refs> = 0 if $keyword =~ s| ?:not\-encode:$||;

my ( $regex_compiled_result, $regex_err )    ##  validate regex syntax  ##
    = <[base.eval.comp_regex]>->($keyword);

if ( not defined $regex_compiled_result ) {
    return {
        'mode' => qw| false |,
        'data' => sprintf( '%s in regex [ invalid pattern ]', $regex_err )
    };
}

$reply = {
    'mode' => qw| size |,
    'data' => <[base.dump_data]>->( undef, undef, $keyword )
};

##  reset to default setting  ##
<base.dump_data.encode_perl_refs> = 5;    ## true ##

#,,,.,...,..,,...,.,.,,..,...,,,.,,.,,...,,..,..,,...,...,...,.,,,.,.,,,.,,,.,
#P6IXLBFUS5TO5LTLRSO36XJUAC236HRA4LGBJ5OCAVH5US3RYFEU72WJGWFV5IXFTMZHURJTAEYT2
#\\\|OEJ3ZEPWS4KU3NTK6WPG2RW5RE3P2IVU6NQ6G7S4W5COPEK7NU2 \ / AMOS7 \ YOURUM ::
#\[7]PMLCMUWFC3W3Q3IXKMD2EOD3PL4AHKYTLFRE7CAVLLYQLGJH3GDY 7  DATA SIGNATURE ::
#:::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::
