# >:]

# name  = browser.gtk3.cmd.get_progress
# descr = return page loading status in percent

my $view = <browser.gtk3.obj.view>;

my $load_status = $view->get_load_status();
printf "\n load-status : %s\n\n", Dumper($load_status);

my $percent
    = ( $load_status ne 'failed' and $load_status eq 'finished' )
    ? '100%'
    : sprintf( "%.0f%", $view->get_progress() * 100 );

return {
    'mode' => 'ack',
    'data' => $percent
    }
