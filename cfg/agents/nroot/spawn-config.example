# >:]

# name  = spawn-config.example
# descr = defines minimal example ['nroot'] agent startup configuration
# note  = ... most of what was here is now in the agent subdirectories ...


.: globals :.

  agents.enabled = core source history authen nodes # <-- add agents [autostart]

 # agents.disabled =         #  <- use this option for start permission override

.: agents :.


#
## config data being imported from 'agents/<agent_name>/agent-startup.nroot' ###
#

  - dist-upgrade

      max_concurrency     = 1
      respawn.disabled    = 1
      heartbeat.disabled  = 1

      : nroot-init :
        start_mode = exec-external
        exec_bin = debian_dist_upgrade.sh # [ ./bin/dependencies/.., ]
        exec_usr = root

### external program example ### [ supports '<x11-user>' from './cfg/x11-vars' ]

  - namesrv

      max_concurrency = 1
      dependencies = core

      : nroot-init :
        start_mode = exec-external
        exec_bin = /usr/local/bin/namesrv
        exec_usr = root
