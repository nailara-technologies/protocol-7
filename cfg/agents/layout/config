
 .:[ X11 screen 'layout' agent ]:.

buffer.agent.log_cmd = log.msg

[load_config_file:'defaults']

access.cmd.usr.core = help ping reload verify-instance * # <- LLL

layout.config_name = default
layout.default_layout = browser

layout.hash_file              = /etc/nailara/nailara.layout/layout_file.sha1
layout.tiles_visible_file     = /etc/nailara/import/playlist.tiles_visible
layout.restore_layout_enabled = 1   # selects last used layout on startup
layout.restore_layout_timeout = 300 # seconds

layout.watch_tiles.poll_tile_color  = 0     # [0|1] ( monitor tile activity? )
layout.watch_tiles.comparison_mode  = bgcol # [bgcol|last]
layout.watch_tiles.inactive_action  = restart # [warn|restart] (timeout action)
layout.watch_tiles.check_playlist   = 1     # <- skip restart on empty playlist
layout.watch_tiles.poll_int_start   = 33  # start delay (first 'interval')
layout.watch_tiles.inactive_timeout = 127 # seconds

layout.startup.stop_agents      = media mpv browser ticker-gtk ticker-sdl \
                                  impressive loadsplash webcam storchencam \
                                  rss-ticker webcam

layout.startup.restart_agents   = dsys-update-check osd-logo # todo: rotate case

layout.mapped_subcfg.media      = adblock noscript scroll_speed auto_speed
layout.mapped_subcfg.browser    = adblock noscript scroll_speed auto_speed
layout.mapped_subcfg.impressive = light_mode

layout.config.ticker_agent_type = gtk # [gtk|sdl]

modules.preload = layout.config config.json
[load_modules:<modules.preload>]
[init_modules]

[config.json.import_file:'layout.config.json']
[config.json.import_file:'layout.layout.json']

modules.load = auth net io.ip digest.sha layout config.json
[load_modules:<modules.load>]
[init_modules]

[set_privs:'nailara']

[net.connect_to_core:'tcp/ip']

[base.x11.get_display]
[base.x11.get_screen_size]
[base.x11.get_orientation]
[base.get_session_id]

[layout.stop_display_agents]

[layout.process_layout:<layout.current_layout>]

[event.loop]
