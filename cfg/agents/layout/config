
 .:[ X11 screen 'layout' agent ]:.

[load_config_file:'shared-params']

access.cmd.usr.core = commands heart reload verify-instance * # <- LLL

layout.config_name    = default  ##  ./cfg/agents/layout/layout-setup.<name>  ##
layout.default_layout = browser

layout.hash_file              = /etc/nailara/nailara.layout/layout_file.sha1
layout.tiles_visible_file     = /etc/nailara/import/playlist.tiles_visible
layout.restore_layout_enabled = 1   # selects last used layout on startup
layout.restore_layout_timeout = 242 # seconds

layout.watch_tiles.poll_tile_color  = 0     # [0|1] < monitor tile activity? >
layout.watch_tiles.comparison_mode  = bgcol # [bgcol|last]
layout.watch_tiles.inactive_action  = restart # [warn|restart] <timeout action>
layout.watch_tiles.check_playlist   = 1     # <- skip restart on empty playlist
layout.watch_tiles.poll_int_start   = 33  # start delay < first 'interval' >
layout.watch_tiles.inactive_timeout = 127 # seconds

layout.startup.stop_agents      = universal mpv browser ticker-gtk ticker-sdl \
                                  impressive loadsplash webcam storchencam \
                                  rss-ticker webcam

layout.startup.restart_agents   = dsys-update-check osd-logo # todo: rotate case

layout.mapped_subcfg.browser    = adblock noscript scroll_speed auto_speed
layout.mapped_subcfg.universal  = adblock noscript scroll_speed auto_speed
layout.mapped_subcfg.impressive = light_mode

layout.set-up.ticker_agent_type = gtk # [gtk|sdl]

modules.preload = layout.set-up set-up.json
[load_modules:<modules.preload>]
[init_modules]

[set-up.json.import_file:'layout.set-up.json']
[set-up.json.import_file:'layout.layout.json']

modules.load = auth net io.ip digest.sha layout set-up.json
[load_modules:<modules.load>]
[init_modules]

[set_privs:<system.privs.user>]

[net.connect_to_core:'ip.tcp']

[base.x11.get_display]
[base.x11.get_screen_size]
[base.x11.get_orientation]
[base.get_session_id]

[layout.stop_display_agents]

[layout.process_layout:<layout.current_layout>]

[event.loop]
