# >:]

# name  = agent-startup.nroot
# descr = 'cube' agent startup configuration used by 'nroot' agent

max_concurrency   = 1
heartbeat.timeout = 3

: nroot-init :
  start_mode = stdin-agent
  cube.key = [base.prng.chars-anum:44]

: agent-init :
  [base.auth.set_nroot_key:'<{cube.key}>']

: nroot-post-init :
  status.post-init = [nroot.callback.connect_to_cube:<instance_id>]
  [nroot.callback.register_ondemand]

: startup-error :
  [nroot.teardown:"'cube' agent startup not successful"]
