# >:]

# name = playlist.handler.get_hidden_reply

my @hidden_b8ids;
my $reply = shift;

if ( $reply->{'cmd'} eq 'DATA' and $reply->{'call_args'}->{'args'} > 0 ) {
    chomp( $reply->{'data'} );
    @hidden_b8ids = split( /\n+/, $reply->{'data'} );
}

<playlist.hidden_b8id> = \@hidden_b8ids;
<playlist.agent_online> //= 0;

if ( !<playlist.agent_online> ) {
    <[base.get_session_id]>;
    <playlist.agent_online> = 1;
    <[playlist.check_queued]>;
}

<[playlist.callback.load_file]>;
