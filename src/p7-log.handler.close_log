# >:]

# name = p7-log.handler.close_log

my $log_name  = shift->w->data;
my $file_data = <log.files>->{$log_name};
$file_data->{'timer'}->cancel;
$file_data->{'timer'} = undef;

<[base.log]>->( 2, "closing log '$log_name'" );

flock( $file_data->{'fh'}, 8 ) or die $OS_ERROR;    # LOCK_UN
$file_data->{'locked'} = 0;
close( $file_data->{'fh'} ) or die $OS_ERROR;

# ______________________________________________________________________________
#\\NESLQN4CH55RRSCA37F3R6U2VTZ7BDW3P3NW5YT3WQO2RYPFTNXWUMBBCCOXIN3K36DHTRIJ5PA7S
# \\ B7AOKXXG4ZOH2XLMCFBVX47E2XZKOL6VW7ZKAZTIUTLWOSCPW2UF \\// C25519-BASE-32 //
#  \\// MF67VW74RVZYCALCC5K637BFKKJZOEFNIE6A7GX2RKLGENQLGDI \\ CODE SIGNATURE \\
#   ````````````````````````````````````````````````````````````````````````````
