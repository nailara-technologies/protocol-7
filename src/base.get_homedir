# >:]

# name = base.get_homedir

my $user = shift // $ENV{'HOME'} // '';

if ( $user eq '' ) {
    $user = getpwuid($>);    # current user(id)
} elsif ( $user =~ /^\d+$/ ) {
    $user = getpwuid($user);    # given by uid
}    # else provided as name!

my $homedir = [ getpwnam($user) ]->[7];

if ( length($homedir) ) {
    <[base.log]>->( 2, "[get_homedir] home directory '$homedir' selected.." );
} else {
    <[base.log]>->( 1, "<!> no home directory [user '$user'] <!>" );
}

return $homedir;
