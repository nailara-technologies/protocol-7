# >:]

# name = mlist.handler.get_hidden_reply

my @hidden_b32ids;
my $reply = shift;

if ( $reply->{'cmd'} eq 'DATA' and $reply->{'call_args'}->{'args'} > 0 ) {
    chomp( $reply->{'data'} );
    @hidden_b32ids = split( /\n+/, $reply->{'data'} );
}

<mlist.hidden_b32id> = \@hidden_b32ids;
<mlist.agent_online> //= 0;

if ( !<mlist.agent_online> ) {
    <[base.get_session_id]>;
    <mlist.agent_online> = 1;
    <[mlist.check_queued]>;
}

<[mlist.callback.load_file]>;
