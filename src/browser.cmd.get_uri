# >:]

# name  = browser.cmd.get_uri
# descr = return current URI loaded in foreground

my $fg_index = <browser.overlay.index>->{'fg'};
my $view     = <browser.gtk_obj.view>->{$fg_index};

my $current_uri = $view->get_uri;

if ( !length($current_uri) ) {
    return { 'mode' => 'nack', 'data' => 'foreground view empty' };
} else {
    return { 'mode' => 'ack', 'data' => $current_uri };
}
