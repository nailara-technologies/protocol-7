# >:]

# name  = nroot.agent.get_object_id
# descr = return dependency object id for given agent id

my $agent_id = shift // '';
die "nroot.agent.get_object_id: agent id '$agent_id' does not exist\n"
    if not exists <nroot.agent.setup>->{$agent_id};

foreach my $id ( keys %{<dependency.object>} ) {
    next if <dependency.object>->{$id}->{'type'} ne 'agent';
    return $id if <dependency.object>->{$id}->{'agent_id'} == $agent_id;
}

return undef;    # not found
