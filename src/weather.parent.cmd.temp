# >:]

# name  = weather.parent.cmd.temp
# descr = return current temperature for selected city

return {
    'mode' => 'nack',
    'data' => 'no city selected (undefined station id)'
    }
    if not defined <weather.station_id>;

my $stid = <weather.station_id>;
my $temp = <weather.data>->{$stid}->{'current'}->{'temp'} // 'n/a';
$temp .= "\x{00B0}C" if $temp =~ /^\d+(\.\d+)?$/;

return { 'mode' => 'ack', 'data' => $temp }
