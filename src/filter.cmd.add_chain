# >:]

# name   = filter.cmd.add_chain
# descr  = compile a filter chain
# params = <name> [chain_list]

return { 'mode' => 'nak', 'data' => 'chain <name> expected' }
    if not defined $$call{'args'};

if ( my $filter_id
    = <[filter.compile_chain]>->( split( / +/, $$call{'args'} ) ) ) {

    return { 'mode' => 'ack', 'data' => "chain compiled: id=$filter_id" };

} else {
    return { 'mode' => 'nak', 'data' => 'unable to compile filter chain' };
}
