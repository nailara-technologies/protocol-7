# >:]

# name = base.cmd.list-deps
# descr = return agent dependencies [pkgs/pmods]

my $return_str = "\n";
my @pmods = sort { length $a <=> length $b } sort keys %{<base.perlmod.loaded>};

my $width = 67;

$return_str .= sprintf "%${width}s . perl-mod .\n", '';
map { $return_str .= sprintf( "%${width}s :\n", $_ ) } @pmods;
$return_str .= sprintf "%${width}s .\n", '';

return { 'mode' => 'raw', 'data' => $return_str }
