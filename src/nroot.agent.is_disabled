# >:]

# name  = nroot.agent.is_disabled
# descr = returns true if agent is explicitly disabled in start setup

my $agent_name = shift;
die "nroot.agent.is_disabled: no agent name specified"
    if not defined $agent_name;

my $config_href = <nroot.start_setup.globals.agents>;

return 0
    if not exists $config_href->{'disabled'}
    or not defined $config_href->{'disabled'}
    or $config_href->{'disabled'} =~ /^\s*$/;

# checking config syntax
if ( $config_href->{'disabled'} !~ /^([a-z][a-z\.\-_\d]*\ *)+$/i ) {
    <[base.log]>->(
        0,
        "start setup syntax error: agents.disabled = '"
            . $config_href->{'disabled'}
            . "' <- expecting valid agent name[[[s]]]"
    );
    die "configuration sybtax error in agents.disabled";
}

map { return 1 if $_ eq $agent_name }
    split( /\s+/, $config_href->{'disabled'} );

return 0;

# ______________________________________________________________________________
#\\T3OWIR3TFAGZA3HZPJVIB65O26UXDU46XBDZMERUPAK34EOKL6RY2HKKHMZKKS5DIZHSLXR3U7KGI
# \\ 5TVNSMQVBCW764J5FYLMI25QQSJGYDT24NRQH2P5URA3HGCYJRNY \\// C25519-BASE-32 //
#  \\// RYZ25KHI3D6ZTZHGH6JS6CDIV5AE7DXSMQ5X5CMUTHVG5ILQYCY \\ CODE SIGNATURE \\
#   ````````````````````````````````````````````````````````````````````````````
